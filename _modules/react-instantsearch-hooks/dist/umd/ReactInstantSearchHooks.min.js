/*! React InstantSearchHooks 6.16.0 | Â© Algolia, inc. | https://github.com/algolia/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactInstantSearchHooks={},e.React)}(this,function(e,f){"use strict";var h="default"in f?f.default:f,l="6.16.0";function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=f.createContext(null),g=f.createContext(null),t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};t.setTimeout,t.clearTimeout;var r=t.performance||{};r.now||r.mozNow||r.msNow||r.oNow||r.webkitNow;function s(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){if(e===t)return e;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&"__proto__"!==r){var n=t[r],i=e[r];void 0!==i&&void 0===n||(s(i)&&s(n)?e[r]=c(i,n):e[r]="object"==typeof(a=n)&&null!==a?c(Array.isArray(a)?[]:{},a):a)}var a;return e}var o=function(e){s(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];s(n)&&c(e,n)}return e},m=function(){return Array.prototype.slice.call(arguments).reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(e){void 0!==r[e]&&(void 0!==t[e]&&delete t[e],t[e]=r[e])}),t},{})};var n=function(r,n){return r.filter(function(e,t){return-1<n.indexOf(e)&&r.indexOf(e)===t})},v=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]};var u=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")};var y=function(e,t){if(null===e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i};var b=function(e){return e&&0<Object.keys(e).length},a=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)},O={addRefinement:function(e,t,r){if(O.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],a={};return a[t]=i,m({},a,e)},removeRefinement:function(e,r,t){if(void 0===t)return O.clearRefinement(e,function(e,t){return r===t});var n=""+t;return O.clearRefinement(e,function(e,t){return r===t&&n===e})},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return O.isRefined(e,t,r)?O.removeRefinement(e,t,r):O.addRefinement(e,t,r)},clearRefinement:function(i,a,s){if(void 0===a)return b(i)?{}:i;if("string"==typeof a)return y(i,[a]);if("function"==typeof a){var c=!1,e=Object.keys(i).reduce(function(e,t){var r=i[t]||[],n=r.filter(function(e){return!a(e,t,s)});return n.length!==r.length&&(c=!0),e[t]=n,e},{});return c?e:i}},isRefined:function(e,t,r){var n=!!e[t]&&0<e[t].length;if(void 0===r||!n)return n;var i=""+r;return-1!==e[t].indexOf(i)}},i=O;function R(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every(function(e,t){return R(r[t],e)}):e===r}function w(e){var n=e?w._parseNumbers(e):{};void 0===n.userToken||a(n.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{};var i=this;Object.keys(n).forEach(function(e){var t=-1!==w.PARAMETERS.indexOf(e),r=void 0!==n[e];!t&&r&&(i[e]=n[e])})}w.PARAMETERS=Object.keys(new w),w._parseNumbers=function(i){if(i instanceof w)return i;var n={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t=i[e];if("string"==typeof t){var r=parseFloat(t);n[e]=isNaN(r)?t:r}}),Array.isArray(i.insideBoundingBox)&&(n.insideBoundingBox=i.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),i.numericRefinements){var a={};Object.keys(i.numericRefinements).forEach(function(r){var n=i.numericRefinements[r]||{};a[r]={},Object.keys(n).forEach(function(e){var t=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});a[r][e]=t})}),n.numericRefinements=a}return o({},i,n)},w.make=function(e){var r=new w(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var t=r.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(r=r.clearRefinements(e.name)),0===(t=r.getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),r},w.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&0<r.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&b(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):b(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},w.prototype={constructor:w,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:i.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:i.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:i.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:i.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=u(r);if(this.isNumericRefined(e,t,n))return this;var i=o({},this.numericRefinements);return i[e]=o({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,i){return void 0!==i?this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&R(e.val,u(i))})}):this:void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(s){if(void 0===s)return b(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof s)return y(this.numericRefinements,[s]);if("function"==typeof s){var c=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,n){var i=t[n],a={};return i=i||{},Object.keys(i).forEach(function(t){var e=i[t]||[],r=[];e.forEach(function(e){s({val:e,op:t},n,"numeric")||r.push(e)}),r.length!==e.length&&(c=!0),a[t]=r}),e[n]=a,e},{});return c?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return i.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:i.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return i.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:i.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return i.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:i.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return i.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:i.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return i.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:i.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return i.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:i.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:i.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:i.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:i.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:m({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:m({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:m({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&i.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&i.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&i.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):0<r.length},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var i,a,s=u(r),c=void 0!==(i=this.numericRefinements[e][t],a=s,v(i,function(e){return R(e,a)}));return n&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=n(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return n(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length}))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===r.indexOf(e)&&void 0!==t&&(n[e]=t)}),n},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=w.validate(this,e);if(t)throw t;var r=this,i=w._parseNumbers(e),n=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),a=Object.keys(i).reduce(function(e,t){var r=void 0!==e[t],n=void 0!==i[t];return r&&!n?y(e,[t]):(n&&(e[t]=i[t]),e)},n);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return v(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var j=w;function S(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}var P=function(e,r,i){if(!Array.isArray(e))return[];Array.isArray(i)||(i=[]);var t=e.map(function(t,e){return{criteria:r.map(function(e){return t[e]}),index:e,value:t}});return t.sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var n=S(e.criteria[r],t.criteria[r]);if(n)return r>=i.length?n:"desc"===i[r]?-n:n}return e.index-t.index}),t.map(function(e){return e.value})},F=function(e){return Array.isArray(e)?e.filter(Boolean):[]},x=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1},E=function(e,t){var i=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),n=v(i,function(e){return e[0]===r[0]});return 1<r.length||!n?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(n[0]),e[1].push(n[1])),e},[[],[]])},_=function(m){return function(e,t){var a,f,h,l,d,r=m.hierarchicalFacets[t],n=m.hierarchicalFacetsRefinements[r.name]&&m.hierarchicalFacetsRefinements[r.name][0]||"",i=m._getHierarchicalFacetSeparator(r),s=m._getHierarchicalRootPath(r),c=m._getHierarchicalShowParentLevel(r),o=E(m._getHierarchicalFacetSortBy(r)),u=e.every(function(e){return e.exhaustive}),p=(a=o,f=i,h=s,l=c,d=n,function(e,u,t){var o=e;if(0<t){var r=0;for(o=e;r<t;){var n=o&&Array.isArray(o.data)?o.data:[];o=v(n,function(e){return e.isRefined}),r++}}if(o){var i=Object.keys(u.data).map(function(e){return[e,u.data[e]]}).filter(function(e){var t,r,n,i,a,s,c=e[0];return t=c,r=o.path||h,n=d,i=f,s=l,(!(a=h)||0===t.indexOf(a)&&a!==t)&&(!a&&-1===t.indexOf(i)||a&&t.split(i).length-a.split(i).length==1||-1===t.indexOf(i)&&-1===n.indexOf(i)||0===n.indexOf(t)||0===t.indexOf(r+i)&&(s||0===t.indexOf(n)))});o.data=P(i.map(function(e){var t,r,n,i,a,s,c=e[0],o=e[1];return t=o,r=c,n=f,i=d,a=u.exhaustive,{name:(s=r.split(n))[s.length-1].trim(),path:r,count:t,isRefined:i===r||0===i.indexOf(r+n),exhaustive:a,data:null}}),a[0],a[1])}return e}),g=e;return s&&(g=e.slice(s.split(i).length)),g.reduce(p,{name:m.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,exhaustive:u,data:null})}};function T(e){var r={};return e.forEach(function(e,t){r[e]=t}),r}function I(e,t,r){t&&t[r]&&(e.stats=t[r])}function A(f,r){var h=r[0];this._rawResults=r;var l=this;Object.keys(h).forEach(function(e){l[e]=h[e]}),this.processingTimeMS=r.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=f.hierarchicalFacets.map(function(){return[]}),this.facets=[];var e=f.getRefinedDisjunctiveFacets(),d=T(f.facets),p=T(f.disjunctiveFacets),n=1,g=h.facets||{};Object.keys(g).forEach(function(e){var t,r,n=g[e],i=(t=f.hierarchicalFacets,r=e,v(t,function(e){return-1<(e.attributes||[]).indexOf(r)}));if(i){var a=i.attributes.indexOf(e),s=x(f.hierarchicalFacets,function(e){return e.name===i.name});l.hierarchicalFacets[s][a]={attribute:e,data:n,exhaustive:h.exhaustiveFacetsCount}}else{var c,o=-1!==f.disjunctiveFacets.indexOf(e),u=-1!==f.facets.indexOf(e);o&&(c=p[e],l.disjunctiveFacets[c]={name:e,data:n,exhaustive:h.exhaustiveFacetsCount},I(l.disjunctiveFacets[c],h.facets_stats,e)),u&&(c=d[e],l.facets[c]={name:e,data:n,exhaustive:h.exhaustiveFacetsCount},I(l.facets[c],h.facets_stats,e))}}),this.hierarchicalFacets=F(this.hierarchicalFacets),e.forEach(function(e){var a=r[n],s=a&&a.facets?a.facets:{},c=f.getHierarchicalFacetByName(e);Object.keys(s).forEach(function(t){var r,e=s[t];if(c){r=x(f.hierarchicalFacets,function(e){return e.name===c.name});var n=x(l.hierarchicalFacets[r],function(e){return e.attribute===t});if(-1===n)return;l.hierarchicalFacets[r][n].data=o({},l.hierarchicalFacets[r][n].data,e)}else{r=p[t];var i=h.facets&&h.facets[t]||{};l.disjunctiveFacets[r]={name:t,data:m({},e,i),exhaustive:a.exhaustiveFacetsCount},I(l.disjunctiveFacets[r],a.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&f.disjunctiveFacetsRefinements[t].forEach(function(e){!l.disjunctiveFacets[r].data[e]&&-1<f.disjunctiveFacetsRefinements[t].indexOf(e)&&(l.disjunctiveFacets[r].data[e]=0)})}}),n++}),f.getRefinedHierarchicalFacets().forEach(function(e){var s=f.getHierarchicalFacetByName(e),c=f._getHierarchicalFacetSeparator(s),o=f.getHierarchicalRefinement(e);if(!(0===o.length||o[0].split(c).length<2)){var t=r[n],u=t&&t.facets?t.facets:{};Object.keys(u).forEach(function(t){var e=u[t],r=x(f.hierarchicalFacets,function(e){return e.name===s.name}),n=x(l.hierarchicalFacets[r],function(e){return e.attribute===t});if(-1!==n){var i={};if(0<o.length){var a=o[0].split(c)[0];i[a]=l.hierarchicalFacets[r][n].data[a]}l.hierarchicalFacets[r][n].data=m(i,e,l.hierarchicalFacets[r][n].data)}}),n++}}),Object.keys(f.facetsExcludes).forEach(function(t){var e=f.facetsExcludes[t],r=d[t];l.facets[r]={name:t,data:h.facets[t],exhaustive:h.exhaustiveFacetsCount},e.forEach(function(e){l.facets[r]=l.facets[r]||{name:t},l.facets[r].data=l.facets[r].data||{},l.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(_(f)),this.facets=F(this.facets),this.disjunctiveFacets=F(this.disjunctiveFacets),this._state=f}function D(e,t){var r=v(e,function(e){return e.name===t});return r&&r.stats}function H(e,t,r,n,i){var a=v(i,function(e){return e.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,c=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:c}}A.prototype.getFacetByName=function(t){function e(e){return e.name===t}return v(this.facets,e)||v(this.disjunctiveFacets,e)||v(this.hierarchicalFacets,e)},A.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],A.prototype.getFacetValues=function(e,t){var r=function(t,r){function e(e){return e.name===r}if(t._state.isConjunctiveFacet(r)){var n=v(t.facets,e);return n?Object.keys(n.data).map(function(e){return{name:e,count:n.data[e],isRefined:t._state.isFacetRefined(r,e),isExcluded:t._state.isExcludeRefined(r,e)}}):[]}if(t._state.isDisjunctiveFacet(r)){var i=v(t.disjunctiveFacets,e);return i?Object.keys(i.data).map(function(e){return{name:e,count:i.data[e],isRefined:t._state.isDisjunctiveFacetRefined(r,e)}}):[]}if(t._state.isHierarchicalFacet(r))return v(t.hierarchicalFacets,e)}(this,e);if(r){var n,c=m({},t,{sortBy:A.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;if(Array.isArray(r))n=[e];else n=o._state.getHierarchicalFacetByName(r.name).attributes;return function t(r,e,n,i){if(i=i||0,Array.isArray(e))return r(e,n[i]);if(!e.data||0===e.data.length)return e;var a=e.data.map(function(e){return t(r,e,n,i+1)}),s=r(a,n[i]);return m({data:s},e)}(function(e,t){if(c.facetOrdering){var r=(i=t,(n=o).renderingContent&&n.renderingContent.facetOrdering&&n.renderingContent.facetOrdering.values&&n.renderingContent.facetOrdering.values[i]);if(Boolean(r))return function(e,t){var r=[],n=[],i=(t.order||[]).reduce(function(e,t,r){return e[t]=r,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)}),r=r.filter(function(e){return e});var a,s=t.sortRemainingBy;return"hidden"===s?r:(a="alpha"===s?[["path","name"],["asc","asc"]]:[["count"],["desc"]],r.concat(P(n,a[0],a[1])))}(e,r)}var n,i,a;if(Array.isArray(c.sortBy)){var s=E(c.sortBy,A.DEFAULT_SORT);return P(e,s[0],s[1])}if("function"==typeof c.sortBy)return a=c.sortBy,e.sort(a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,n)}},A.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?D(this.facets,e):this._state.isDisjunctiveFacet(e)?D(this.disjunctiveFacets,e):void 0},A.prototype.getRefinements=function(){var p=this._state,g=this,m=[];return Object.keys(p.facetsRefinements).forEach(function(t){p.facetsRefinements[t].forEach(function(e){m.push(H(p,"facet",t,e,g.facets))})}),Object.keys(p.facetsExcludes).forEach(function(t){p.facetsExcludes[t].forEach(function(e){m.push(H(p,"exclude",t,e,g.facets))})}),Object.keys(p.disjunctiveFacetsRefinements).forEach(function(t){p.disjunctiveFacetsRefinements[t].forEach(function(e){m.push(H(p,"disjunctive",t,e,g.disjunctiveFacets))})}),Object.keys(p.hierarchicalFacetsRefinements).forEach(function(d){p.hierarchicalFacetsRefinements[d].forEach(function(e){var t,r,n,i,a,s,c,o,u,f,h,l;m.push((t=p,r=d,n=e,i=g.hierarchicalFacets,a=t.getHierarchicalFacetByName(r),s=t._getHierarchicalFacetSeparator(a),c=n.split(s),o=v(i,function(e){return e.name===r}),u=c.reduce(function(e,t){var r=e&&v(e.data,function(e){return e.name===t});return void 0!==r?r:e},o),f=u&&u.count||0,h=u&&u.exhaustive||!1,l=u&&u.path||"",{type:"hierarchical",attributeName:r,name:l,count:f,exhaustive:h}))})}),Object.keys(p.numericRefinements).forEach(function(r){var e=p.numericRefinements[r];Object.keys(e).forEach(function(t){e[t].forEach(function(e){m.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),p.tagRefinements.forEach(function(e){m.push({type:"tag",attributeName:"_tags",name:e})}),m};var N=A;function k(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var C=k;function L(e){return"function"==typeof e}function Q(e){return"object"==typeof e&&null!==e}function W(e){return void 0===e}(k.EventEmitter=k).prototype._events=void 0,k.prototype._maxListeners=void 0,k.defaultMaxListeners=10,k.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},k.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Q(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(W(r=this._events[e]))return!1;if(L(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Q(r))for(i=Array.prototype.slice.call(arguments,1),n=(s=r.slice()).length,a=0;a<n;a++)s[a].apply(this,i);return!0},k.prototype.on=k.prototype.addListener=function(e,t){var r;if(!L(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,L(t.listener)?t.listener:t),this._events[e]?Q(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Q(this._events[e])&&!this._events[e].warned&&(r=W(this._maxListeners)?k.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},k.prototype.once=function(e,t){if(!L(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},k.prototype.removeListener=function(e,t){var r,n,i,a;if(!L(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||L(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Q(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},k.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(L(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},k.prototype.listeners=function(e){return this._events&&this._events[e]?L(this._events[e])?[this._events[e]]:this._events[e].slice():[]},k.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(L(t))return 1;if(t)return t.length}return 0},k.listenerCount=function(e,t){return e.listenerCount(t)};var U=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function M(e,t){this.main=e,this.fn=t,this.lastResults=null}U(M,C.EventEmitter),M.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},M.prototype.getModifiedState=function(e){return this.fn(e)};var B=M,q={_getQueries:function(i,a){var s=[];return s.push({indexName:i,params:q._getHitsSearchParams(a)}),a.getRefinedDisjunctiveFacets().forEach(function(e){s.push({indexName:i,params:q._getDisjunctiveFacetSearchParams(a,e)})}),a.getRefinedHierarchicalFacets().forEach(function(e){var t=a.getHierarchicalFacetByName(e),r=a.getHierarchicalRefinement(e),n=a._getHierarchicalFacetSeparator(t);0<r.length&&1<r[0].split(n).length&&s.push({indexName:i,params:q._getDisjunctiveFacetSearchParams(a,e,!0)})}),s},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(q._getHitsHierarchicalFacetsAttributes(e)),r=q._getFacetFilters(e),n=q._getNumericFilters(e),i=q._getTagFilters(e),a={facets:-1<t.indexOf("*")?["*"]:t,tagFilters:i};return 0<r.length&&(a.facetFilters=r),0<n.length&&(a.numericFilters=n),o({},e.getQueryParams(),a)},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=q._getFacetFilters(e,t,r),i=q._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:q._getTagFilters(e),analytics:!1,clickAnalytics:!1},s=e.getHierarchicalFacetByName(t);return a.facets=s?q._getDisjunctiveHierarchicalFacetAttribute(e,s,r):t,0<i.length&&(a.numericFilters=i),0<n.length&&(a.facetFilters=n),o({},e.getQueryParams(),a)},_getNumericFilters:function(e,i){if(e.numericFilters)return e.numericFilters;var a=[];return Object.keys(e.numericRefinements).forEach(function(n){var t=e.numericRefinements[n]||{};Object.keys(t).forEach(function(r){var e=t[r]||[];i!==n&&e.forEach(function(e){if(Array.isArray(e)){var t=e.map(function(e){return n+r+e});a.push(t)}else a.push(n+r+e)})})}),a},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(c,o,u){var f=[],e=c.facetsRefinements||{};Object.keys(e).forEach(function(t){(e[t]||[]).forEach(function(e){f.push(t+":"+e)})});var r=c.facetsExcludes||{};Object.keys(r).forEach(function(t){(r[t]||[]).forEach(function(e){f.push(t+":-"+e)})});var n=c.disjunctiveFacetsRefinements||{};Object.keys(n).forEach(function(t){var e=n[t]||[];if(t!==o&&e&&0!==e.length){var r=[];e.forEach(function(e){r.push(t+":"+e)}),f.push(r)}});var h=c.hierarchicalFacetsRefinements||{};return Object.keys(h).forEach(function(e){var t=(h[e]||[])[0];if(void 0!==t){var r,n,i=c.getHierarchicalFacetByName(e),a=c._getHierarchicalFacetSeparator(i),s=c._getHierarchicalRootPath(i);if(o===e){if(-1===t.indexOf(a)||!s&&!0===u||s&&s.split(a).length===t.split(a).length)return;t=s?(n=s.split(a).length-1,s):(n=t.split(a).length-2,t.slice(0,t.lastIndexOf(a))),r=i.attributes[n]}else n=t.split(a).length-1,r=i.attributes[n];r&&f.push([r+":"+t])}}),f},_getHitsHierarchicalFacetsAttributes:function(s){return s.hierarchicalFacets.reduce(function(e,t){var r=s.getHierarchicalRefinement(t.name)[0];if(!r)return e.push(t.attributes[0]),e;var n=s._getHierarchicalFacetSeparator(t),i=r.split(n).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,s+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return"number"==typeof r&&(a.maxFacetHits=r),o({},q._getHitsSearchParams(i),a)}},$=q,V="3.6.2";function J(e,t,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.6.2)"),this.setClient(e);var n=r||{};n.index=t,this.state=j.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function z(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Z(){return this.state.page}U(J,C.EventEmitter),J.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},J.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},J.prototype.getQuery=function(){var e=this.state;return $._getHitsSearchParams(e)},J.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=$._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(n).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new N(r,e.results),state:r,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(n).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new N(r,e.results),r)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)})},J.prototype.findAnswers=function(e){var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=o({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:y($._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var s=this.client.initIndex(n.index);if("function"!=typeof s.findAnswers)throw new Error(a);return s.findAnswers(n.query,e.queryLanguages,i)},J.prototype.searchForFacetValues=function(t,e,r,n){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(n||{}),s=a.isDisjunctiveFacet(t),c=$.getSearchForFacetQuery(t,e,r,a);this._currentNbQueries++;var o=this;return this.emit("searchForFacetValues",{state:a,facet:t,query:e}),(i?this.client.searchForFacetValues([{indexName:a.index,params:c}]):this.client.initIndex(a.index).searchForFacetValues(c)).then(function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach(function(e){e.isRefined=s?a.isDisjunctiveFacetRefined(t,e.value):a.isFacetRefined(t,e.value)}),e},function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e})},J.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},J.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},J.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},J.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},J.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},J.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},J.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},J.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},J.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},J.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},J.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},J.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},J.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},J.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},J.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},J.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},J.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},J.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},J.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},J.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},J.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},J.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},J.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},J.prototype.setCurrentPage=z,J.prototype.setPage=z,J.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},J.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},J.prototype.setState=function(e){return this._change({state:j.make(e),isPageReset:!1}),this},J.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new j(e),this},J.prototype.hasRefinements=function(e){return!!b(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},J.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},J.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},J.prototype.hasTag=function(e){return this.state.isTagRefined(e)},J.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},J.prototype.getIndex=function(){return this.state.index},J.prototype.getCurrentPage=Z,J.prototype.getPage=Z,J.prototype.getTags=function(){return this.state.tagRefinements},J.prototype.getRefinements=function(e){var r=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){r.push({value:e,type:"exclude"})});else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"disjunctive"})})}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach(function(e){var t=n[e];r.push({value:t,operator:e,type:"numeric"})}),r},J.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},J.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},J.prototype._search=function(e){var n=this.state,i=[],t=[];e.onlyWithDerivedHelpers||(t=$._getQueries(n.index,n),i.push({state:n,queriesCount:t.length,helper:this}),this.emit("search",{state:n,results:this.lastResults}));var r=this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=$._getQueries(t.index,t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r}),a=Array.prototype.concat.apply(t,r),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,i,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(e){this.emit("error",{error:e})}},J.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var s=r.results.slice();e.forEach(function(e){var t=e.state,r=e.queriesCount,n=e.helper,i=s.splice(0,r),a=n.lastResults=new N(t,i);n.emit("result",{results:a,state:t})})}},J.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},J.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},J.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},J.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},J.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},J.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.6.2)"),this.client=e),this},J.prototype.getClient=function(){return this.client},J.prototype.derive=function(e){var t=new B(this,e);return this.derivedHelpers.push(t),t},J.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},J.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var G=J;function X(e,t,r){return new G(e,t,r)}X.version=V,X.AlgoliaSearchHelper=G,X.SearchParameters=j,X.SearchResults=N;var K=X,Y=Promise.resolve(),ee=function(n){var i=null,a=!1,e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null===i&&(i=Y.then(function(){i=null,a?a=!1:n.apply(void 0,t)}))};return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(a=!0)},e};function te(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((r=e,Object.prototype.toString.call(r).slice(8,-1)),").\n\n").concat(t));var r}function re(){}var ne=function(e,t){return e};function ie(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e){if("object"!==ae(r=e)||null===r||"[object Object]"!==(null===(t=e)?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)))return!1;var t,r;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function ce(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e){var t=e.start,r=void 0===t?0:t,n=e.end,i=e.step,a=void 0===i?1:i,s=0===a?1:a,c=Math.round((n-r)/s);return ce(Array(c)).map(function(e,t){return r+t*s})}function fe(e){return e!==Object(e)}function he(e,t){if(e===t)return!0;if(fe(e)||fe(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return!1;if(!he(e[i],t[i]))return!1}return!0}var le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},de=/[&<>"']/g,pe=RegExp(de.source);var ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},me=/&(amp|quot|lt|gt|#39);/g,ve=RegExp(me.source);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach(function(e){Re(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},je={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Se(e){return(t=e,t&&pe.test(t)?t.replace(de,function(e){return le[e]}):t).replace(new RegExp(we.highlightPreTag,"g"),je.highlightPreTag).replace(new RegExp(we.highlightPostTag,"g"),je.highlightPostTag);var t}function Pe(r){return se(r)&&"string"!=typeof r.value?Object.keys(r).reduce(function(e,t){return Oe(Oe({},e),{},Re({},t,Pe(r[t])))},{}):Array.isArray(r)?r.map(Pe):Oe(Oe({},r),{},{value:Se(r.value)})}function Fe(e){var t=je.highlightPreTag,r=je.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+r:e.value}).join("")}function xe(e){var r=je.highlightPostTag,t=je.highlightPreTag,n=e.split(t),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(e){var t=e.split(r);a.push({value:t[0],isHighlighted:!0}),""!==t[1]&&a.push({value:t[1],isHighlighted:!1})}),a}var Ee=new RegExp(/\w/i);function _e(e,t){var r,n,i,a=e[t],s=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,c=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return Ee.test((i=a.value)&&ve.test(i)?i.replace(me,function(e){return ge[e]}):i)||c!==s?a.isHighlighted:c}function Te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ie(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(r),!0).forEach(function(e){Ae(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(r){return r.some(function(e){return e.isHighlighted})?r.map(function(e,t){return Ie(Ie({},e),{},{isHighlighted:!_e(r,t)})}):r.map(function(e){return Ie(Ie({},e),{},{isHighlighted:!1})})}function He(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?He(Object(r),!0).forEach(function(e){ke(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Le=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var r=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}(e,function(e){return e.name===t.name});if(-1===r)return e.concat(t);var n=e.slice();return n.splice(r,1,t),n},e.hierarchicalFacets)})},Qe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r,n,i,a,s,c,o,u,f,h,l,d,p,g,m,v,y=(n=t,(r=e).setQueryParameters({hierarchicalFacetsRefinements:Ne(Ne({},r.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})),b=Le(y,t),O=(i=b,t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},i)),R=(s=t,(a=O).setQueryParameters({numericRefinements:Ne(Ne({},a.numericRefinements),s.numericRefinements)})),w=(o=t,(c=R).setQueryParameters({disjunctiveFacetsRefinements:Ne(Ne({},c.disjunctiveFacetsRefinements),o.disjunctiveFacetsRefinements)})),j=(f=t,(u=w).setQueryParameters({facetsExcludes:Ne(Ne({},u.facetsExcludes),f.facetsExcludes)})),S=(l=t,(h=j).setQueryParameters({facetsRefinements:Ne(Ne({},h.facetsRefinements),l.facetsRefinements)})),P=(d=S,t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},d)),F=(g=t,0<(m=[].concat((p=P).ruleContexts).concat(g.ruleContexts).filter(Boolean).filter(function(e,t,r){return r.indexOf(e)===t})).length?p.setQueryParameters({ruleContexts:m}):p);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var r=Ce(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(r)}((v=F,t.facets.reduce(function(e,t){return e.addFacet(t)},v)),t)})},We=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return r=(t=e).name,n=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",r,"/js/",void 0!==n&&n?"#connector":""].join("");var t,r,n}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}};function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach(function(e){Be(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(r),!0).forEach(function(e){Ve(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){var f=e.instantSearchInstance,h=e.helper,l=e.attribute,d=e.widgetType;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,s=t[0],c=t[1],o=t[2],u=void 0===o?"Filter Applied":o;1===t.length&&"object"===Je(t[0])?f.sendEventToInsights(t[0]):"click"!==s||2!==t.length&&3!==t.length||(i=l,a=c,((n=h).state.isHierarchicalFacet(i)?n.state.isHierarchicalFacetRefined(i,a):n.state.isConjunctiveFacet(i)?n.state.isFacetRefined(i,a):n.state.isDisjunctiveFacetRefined(i,a))||f.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:d,eventType:s,payload:{eventName:u,index:h.getIndex(),filters:["".concat(l,":").concat(c)]},attribute:l}))}}function Ze(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xe=function(e){var r=e.index,n=e.widgetType,t=(e.methodName,e.args);if(1===t.length&&"object"===Ge(t[0]))return[t[0]];var i=t[0],a=t[1],s=t[2];if(!a)return[];if(("click"===i||"conversion"===i)&&!s)return[];var c=Array.isArray(a)?a.slice():[a];if(0===c.length)return[];var o=c[0].__queryID,u=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}(c),f=u.map(function(e){return e.map(function(e){return e.objectID})}),h=u.map(function(e){return e.map(function(e){return e.__position})});return"view"===i?u.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:i,payload:{eventName:s||"Hits Viewed",index:r,objectIDs:f[t]},hits:e}}):"click"===i?u.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:s,index:r,queryID:o,objectIDs:f[t],positions:h[t]},hits:e}}):"conversion"===i?u.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:s,index:r,queryID:o,objectIDs:f[t]},hits:e}}):[]};function Ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(r),!0).forEach(function(e){et(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var it=We({name:"index-widget"});function at(e){return"ais.index"===e.$$type}function st(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function ct(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,t){return at(t)?e:t.getWidgetUiState||t.getWidgetState?t.getWidgetUiState?t.getWidgetUiState(e,r):t.getWidgetState(e,r):e},t)}function ot(e,t){var r=t.initialSearchParameters,n=nt(t,["initialSearchParameters"]);return e.filter(function(e){return!at(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e},r)}var ut=function(e){if(void 0===e||void 0===e.indexName)throw new Error(it("The `indexName` option is required."));var c=e.indexName,t=e.indexId,o=void 0===t?c:t,u=[],f={},h=null,l=null,d=null,p=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return c},getIndexId:function(){return o},getHelper:function(){return d},getResults:function(){return p&&p.lastResults},getScopedResults:function(){var e=this.getParent();return function r(e){return e.filter(at).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(tt(r(t.getWidgets()))))},[])}(e?e.getWidgets():[this])},getParent:function(){return l},createURL:function(e){return h._createURL(et({},o,ct(u,{searchParameters:e,helper:d})))},getWidgets:function(){return u},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(it("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(it("The widget definition expects a `render` and/or an `init` method."));return u=u.concat(e),h&&Boolean(e.length)&&(st(d,{state:ot(u,{uiState:f,initialSearchParameters:d.state}),_uiState:f}),e.forEach(function(e){e.getRenderState&&ft({renderState:e.getRenderState(h.renderState[t.getIndexId()]||{},{uiState:h._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:h,state:d.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}}),instantSearchInstance:h,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:d,parent:t,uiState:h._initialUiState,instantSearchInstance:h,state:d.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}})}),h.scheduleSearch()),this},removeWidgets:function(t){var r=this;if(!Array.isArray(t))throw new Error(it("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw new Error(it("The widget definition expects a `dispose` method."));if(u=u.filter(function(e){return-1===t.indexOf(e)}),h&&Boolean(t.length)){var e=t.reduce(function(e,t){return t.dispose({helper:d,state:e,parent:r})||e},d.state);f=ct(u,{searchParameters:e,helper:d}),d.setState(ot(u,{uiState:f,initialSearchParameters:e})),u.length&&h.scheduleSearch()}return this},init:function(e){var t=this,n=e.instantSearchInstance,r=e.parent,i=e.uiState;if(null===d){h=n,l=r,f=i[o]||{};var a=n.mainHelper,s=ot(u,{uiState:f,initialSearchParameters:new K.SearchParameters({index:c})});(d=K({},s.index,s)).search=function(){return n.onStateChange?(n.onStateChange({uiState:n.mainIndex.getWidgetUiState({}),setUiState:n.setUiState.bind(n)}),a):a.search()},d.searchWithoutTriggeringOnStateChange=function(){return a.search()},d.searchForFacetValues=function(e,t,r,n){var i=d.state.setQueryParameters(n);return a.searchForFacetValues(e,t,r,i)},p=a.derive(function(){return Qe.apply(void 0,tt(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(t)))}),d.on("change",function(e){e.isPageReset&&function r(e){var t=e.filter(at);0!==t.length&&t.forEach(function(e){var t=e.getHelper();st(t,{state:t.state.resetPage(),isPageReset:!0}),r(e.getWidgets())})}(u)}),p.on("search",function(){n.scheduleStalledRender()}),p.on("result",function(e){var t=e.results;n.scheduleRender(),d.lastResults=t}),u.forEach(function(e){e.getRenderState&&ft({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{uiState:i,helper:d,parent:t,instantSearchInstance:n,state:d.state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})}),u.forEach(function(e){e.init&&e.init({uiState:i,helper:d,parent:t,instantSearchInstance:n,state:d.state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:n._isSearchStalled}})}),d.on("change",function(e){var t=e.state,r=e._uiState;f=ct(u,{searchParameters:t,helper:d},r||{}),n.onStateChange||n.onInternalStateChange()})}},render:function(e){var t=this,r=e.instantSearchInstance;this.getResults()&&(u.forEach(function(e){e.getRenderState&&ft({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}}),instantSearchInstance:r,parent:t})}),u.forEach(function(e){e.render&&e.render({helper:d,parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}})}))},dispose:function(){var t=this;u.forEach(function(e){e.dispose&&e.dispose({helper:d,state:d.state,parent:t})}),l=h=null,d.removeAllListeners(),d=null,p.detach(),p=null},getWidgetUiState:function(e){return u.filter(at).reduce(function(e,t){return t.getWidgetUiState(e)},Ye(Ye({},e),{},et({},this.getIndexId(),f)))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var r=t.uiState;return ot(u,{uiState:r,initialSearchParameters:e})},refreshUiState:function(){f=ct(u,{searchParameters:this.getHelper().state,helper:this.getHelper()})}}};function ft(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Ye(Ye({},r.renderState),{},et({},i,Ye(Ye({},r.renderState[i]),t)))}var ht=function(a){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,r=e.modifierName,n=t?"-".concat(t):"",i=r?"--".concat(r):"";return"".concat("ais","-").concat(a).concat(n).concat(i)}},lt=ht("Highlight");function dt(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(ie(i._highlightResult,t)||{}).value,o=void 0===c?"":c,u=lt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return o.replace(new RegExp(je.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(je.highlightPostTag,"g"),"</".concat(n,">"))}var pt=ht("ReverseHighlight");function gt(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(ie(i._highlightResult,t)||{}).value,o=void 0===c?"":c,u=pt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return Fe(De(xe(o))).replace(new RegExp(je.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(je.highlightPostTag,"g"),"</".concat(n,">"))}var mt=ht("Snippet");function vt(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(ie(i._snippetResult,t)||{}).value,o=void 0===c?"":c,u=mt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return o.replace(new RegExp(je.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(je.highlightPostTag,"g"),"</".concat(n,">"))}var yt=ht("ReverseSnippet");function bt(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(ie(i._snippetResult,t)||{}).value,o=void 0===c?"":c,u=yt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return Fe(De(xe(o))).replace(new RegExp(je.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(je.highlightPostTag,"g"),"</".concat(n,">"))}function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){return function(e){var t,r=e.method,n=e.payload;if("object"!==Ot(n))throw new Error("The insights helper expects the payload to be an object.");try{t=Ze(n)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}var wt="_ALGOLIA";function jt(){return function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}(wt)}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(Object(r),!0).forEach(function(e){Ft(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(r),!0).forEach(function(e){_t(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function It(e){e.configure;return Tt(e,["configure"])}var At=String.prototype.replace,Dt=/%20/g,Ht="RFC3986",Nt={default:Ht,formatters:{RFC1738:function(e){return At.call(e,Dt,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Ht},kt=Object.prototype.hasOwnProperty,Ct=Array.isArray,Lt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Qt=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},Wt={arrayToObject:Qt,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var o=s[c],u=a[o];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:o}),r.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(Ct(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",c=0;c<a.length;++c){var o=a.charCodeAt(c);45===o||46===o||95===o||126===o||48<=o&&o<=57||65<=o&&o<=90||97<=o&&o<=122||i===Nt.RFC1738&&(40===o||41===o)?s+=a.charAt(c):o<128?s+=Lt[o]:o<2048?s+=Lt[192|o>>6]+Lt[128|63&o]:o<55296||57344<=o?s+=Lt[224|o>>12]+Lt[128|o>>6&63]+Lt[128|63&o]:(c+=1,o=65536+((1023&o)<<10|1023&a.charCodeAt(c)),s+=Lt[240|o>>18]+Lt[128|o>>12&63]+Lt[128|o>>6&63]+Lt[128|63&o])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Ct(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,a,s){if(!a)return i;if("object"!=typeof a){if(Ct(i))i.push(a);else{if(!i||"object"!=typeof i)return[i,a];(s&&(s.plainObjects||s.allowPrototypes)||!kt.call(Object.prototype,a))&&(i[a]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(a);var e=i;return Ct(i)&&!Ct(a)&&(e=Qt(i,s)),Ct(i)&&Ct(a)?(a.forEach(function(e,t){if(kt.call(i,t)){var r=i[t];r&&"object"==typeof r&&e&&"object"==typeof e?i[t]=n(r,e,s):i.push(e)}else i[t]=e}),i):Object.keys(a).reduce(function(e,t){var r=a[t];return kt.call(e,t)?e[t]=n(e[t],r,s):e[t]=r,e},e)}},Ut=Object.prototype.hasOwnProperty,Mt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Bt=Array.isArray,qt=Array.prototype.push,$t=function(e,t){qt.apply(e,Bt(t)?t:[t])},Vt=Date.prototype.toISOString,Jt=Nt.default,zt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Wt.encode,encodeValuesOnly:!1,format:Jt,formatter:Nt.formatters[Jt],indices:!1,serializeDate:function(e){return Vt.call(e)},skipNulls:!1,strictNullHandling:!1},Zt=function e(t,r,n,i,a,s,c,o,u,f,h,l,d,p){var g,m=t;if("function"==typeof c?m=c(r,m):m instanceof Date?m=f(m):"comma"===n&&Bt(m)&&(m=Wt.maybeMap(m,function(e){return e instanceof Date?f(e):e})),null===m){if(i)return s&&!d?s(r,zt.encoder,p,"key",h):r;m=""}if("string"==typeof(g=m)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Wt.isBuffer(m))return s?[l(d?r:s(r,zt.encoder,p,"key",h))+"="+l(s(m,zt.encoder,p,"value",h))]:[l(r)+"="+l(String(m))];var v,y=[];if(void 0===m)return y;if("comma"===n&&Bt(m))v=[{value:0<m.length?m.join(",")||null:void 0}];else if(Bt(c))v=c;else{var b=Object.keys(m);v=o?b.sort(o):b}for(var O=0;O<v.length;++O){var R=v[O],w="object"==typeof R&&void 0!==R.value?R.value:m[R];if(!a||null!==w){var j=Bt(m)?"function"==typeof n?n(r,R):r:r+(u?"."+R:"["+R+"]");$t(y,e(w,j,n,i,a,s,c,o,u,f,h,l,d,p))}}return y},Gt=Object.prototype.hasOwnProperty,Xt=Array.isArray,Kt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Wt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Yt=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},er=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=0<r.depth&&/(\[[^[\]]*])/.exec(i),c=s?i.slice(0,s.index):i,o=[];if(c){if(!r.plainObjects&&Gt.call(Object.prototype,c)&&!r.allowPrototypes)return;o.push(c)}for(var u=0;0<r.depth&&null!==(s=a.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&Gt.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;o.push(s[1])}return s&&o.push("["+i.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:Yt(t,r),a=e.length-1;0<=a;--a){var s,c=e[a];if("[]"===c&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var o="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(o,10);r.parseArrays||""!==o?!isNaN(u)&&c!==o&&String(u)===o&&0<=u&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=i:s[o]=i:s={0:i}}i=s}return i}(o,t,r,n)}},tr={formats:Nt,parse:function(e,t){var r=function(e){if(!e)return Kt;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Kt.charset:e.charset;return{allowDots:void 0===e.allowDots?Kt.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Kt.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Kt.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Kt.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Kt.comma,decoder:"function"==typeof e.decoder?e.decoder:Kt.decoder,delimiter:"string"==typeof e.delimiter||Wt.isRegExp(e.delimiter)?e.delimiter:Kt.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Kt.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Kt.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Kt.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Kt.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Kt.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),c=-1,o=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[r]?o="utf-8":"utf8=%26%2310003%3B"===s[r]&&(o="iso-8859-1"),c=r,r=s.length);for(r=0;r<s.length;++r)if(r!==c){var u,f,h=s[r],l=h.indexOf("]="),d=-1===l?h.indexOf("="):l+1;(f=-1===d?(u=t.decoder(h,Kt.decoder,o,"key"),t.strictNullHandling?null:""):(u=t.decoder(h.slice(0,d),Kt.decoder,o,"key"),Wt.maybeMap(Yt(h.slice(d+1),t),function(e){return t.decoder(e,Kt.decoder,o,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===o&&(f=f.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<h.indexOf("[]=")&&(f=Xt(f)?[f]:f),Gt.call(n,u)?n[u]=Wt.combine(n[u],f):n[u]=f}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],o=er(c,n[c],r,"string"==typeof e);i=Wt.merge(i,o,r)}return Wt.compact(i)},stringify:function(e,t){var r,n=e,i=function(e){if(!e)return zt;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||zt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Nt.default;if(void 0!==e.format){if(!Ut.call(Nt.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Nt.formatters[r],i=zt.filter;return("function"==typeof e.filter||Bt(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:zt.addQueryPrefix,allowDots:void 0===e.allowDots?zt.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:zt.charsetSentinel,delimiter:void 0===e.delimiter?zt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:zt.encode,encoder:"function"==typeof e.encoder?e.encoder:zt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:zt.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:zt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:zt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:zt.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):Bt(i.filter)&&(r=i.filter);var a,s=[];if("object"!=typeof n||null===n)return"";a=t&&t.arrayFormat in Mt?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var c=Mt[a];r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var o=0;o<r.length;++o){var u=r[o];i.skipNulls&&null===n[u]||$t(s,Zt(n[u],u,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var f=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),0<f.length?h+f:""}};function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ir=function(e){e&&(window.document.title=e)},ar=function(){function c(e){var t=e.windowTitle,r=e.writeDelay,n=void 0===r?400:r,i=e.createURL,a=e.parseURL;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),nr(this,"windowTitle",void 0),nr(this,"writeDelay",void 0),nr(this,"_createURL",void 0),nr(this,"parseURL",void 0),nr(this,"writeTimer",void 0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=n,this._createURL=i,this.parseURL=a;var s=this.windowTitle&&this.windowTitle(this.read());ir(s)}var e,t,r;return e=c,(t=[{key:"read",value:function(){return this.parseURL({qsModule:tr,location:window.location})}},{key:"write",value:function(e){var t=this,r=this.createURL(e),n=this.windowTitle&&this.windowTitle(e);this.writeTimer&&window.clearTimeout(this.writeTimer),this.writeTimer=window.setTimeout(function(){ir(n),window.history.pushState(e,n||"",r),t.writeTimer=void 0},this.writeDelay)}},{key:"onUpdate",value:function(r){var n=this;this._onPopState=function(e){n.writeTimer&&(window.clearTimeout(n.writeTimer),n.writeTimer=void 0);var t=e.state;r(t||n.read())},window.addEventListener("popstate",this._onPopState)}},{key:"createURL",value:function(e){return this._createURL({qsModule:tr,routeState:e,location:window.location})}},{key:"dispose",value:function(){this._onPopState&&window.removeEventListener("popstate",this._onPopState),this.writeTimer&&window.clearTimeout(this.writeTimer),this.write({})}}])&&rr(e.prototype,t),r&&rr(e,r),c}();function sr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(r),!0).forEach(function(e){or(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ur=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.router,a=void 0===t?function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,a=n.hostname,s=n.port,c=void 0===s?"":s,o=n.pathname,u=n.hash,f=t.stringify(r),h=""===c?"":":".concat(c);return f?"".concat(i,"//").concat(a).concat(h).concat(o,"?").concat(f).concat(u):"".concat(i,"//").concat(a).concat(h).concat(o).concat(u)}:t,n=e.parseURL,i=void 0===n?function(e){var t=e.qsModule,r=e.location;return t.parse(r.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=void 0===a?400:a,c=e.windowTitle;return new ar({createURL:r,parseURL:i,writeDelay:s,windowTitle:c})}():t,r=e.stateMapping,s=void 0===r?{stateToRoute:function(r){return Object.keys(r).reduce(function(e,t){return Et(Et({},e),{},_t({},t,It(r[t])))},{})},routeToState:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return Et(Et({},e),{},_t({},t,It(r[t])))},{})}}:r;return function(e){var n=e.instantSearchInstance;n._createURL=function(r){var e=Object.keys(r).reduce(function(e,t){return cr(cr({},e),{},or({},t,r[t]))},n.mainIndex.getWidgetUiState({})),t=s.stateToRoute(e);return a.createURL(t)};var i=void 0,t=n._initialUiState;return{onStateChange:function(e){var t=e.uiState,r=s.stateToRoute(t);void 0!==i&&he(i,r)||(a.write(r),i=r)},subscribe:function(){n._initialUiState=cr(cr({},t),s.routeToState(a.read())),a.onUpdate(function(e){n.setUiState(s.routeToState(e))})},unsubscribe:function(){a.dispose()}}}};function fr(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function i(e,a,s){var t=a.mainIndex,c={instantSearchInstance:a,parent:t,scopedResults:[],state:t.getHelper().state,helper:t.getHelper(),createURL:t.createURL,uiState:a._initialUiState,renderState:a.renderState,templatesConfig:a.templatesConfig,searchMetadata:{isSearchStalled:a._isSearchStalled}};e.forEach(function(e){var t={};if(e.getWidgetRenderState){var r=e.getWidgetRenderState(c);r&&r.widgetParams&&(t=r.widgetParams)}var n=Object.keys(t).filter(function(e){return void 0!==t[e]});s.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:n}),"ais.index"===e.$$type&&i(e.getWidgets(),a,s)})}(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},unsubscribe:function(){n.remove()}}}}function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(a){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=vr(a);if(s){var i=vr(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==hr(r)&&"function"!=typeof r?mr(t):r}}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var br=We({name:"instantsearch"});function Or(){return"#"}var Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(w,C);var t,r,n,R=gr(w);function w(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),yr(mr(r=R.call(this)),"client",void 0),yr(mr(r),"indexName",void 0),yr(mr(r),"insightsClient",void 0),yr(mr(r),"onStateChange",null),yr(mr(r),"helper",void 0),yr(mr(r),"mainHelper",void 0),yr(mr(r),"mainIndex",void 0),yr(mr(r),"started",void 0),yr(mr(r),"templatesConfig",void 0),yr(mr(r),"renderState",{}),yr(mr(r),"_stalledSearchDelay",void 0),yr(mr(r),"_searchStalledTimer",void 0),yr(mr(r),"_isSearchStalled",void 0),yr(mr(r),"_initialUiState",void 0),yr(mr(r),"_createURL",void 0),yr(mr(r),"_searchFunction",void 0),yr(mr(r),"_mainHelperSearch",void 0),yr(mr(r),"middleware",[]),yr(mr(r),"sendEventToInsights",void 0),yr(mr(r),"scheduleSearch",ee(function(){r.started&&r.mainHelper.search()})),yr(mr(r),"scheduleRender",ee(function(){r.mainHelper.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,r._isSearchStalled=!1),r.mainIndex.render({instantSearchInstance:mr(r)}),r.emit("render")})),yr(mr(r),"onInternalStateChange",ee(function(){var t=r.mainIndex.getWidgetUiState({});r.middleware.forEach(function(e){e.instance.onStateChange({uiState:t})})}));var t,n,i=e.indexName,a=void 0===i?null:i,s=e.numberLocale,c=e.initialUiState,o=void 0===c?{}:c,u=e.routing,f=void 0===u?null:u,h=e.searchFunction,l=e.stalledSearchDelay,d=void 0===l?200:l,p=e.searchClient,g=void 0===p?null:p,m=e.insightsClient,v=void 0===m?null:m,y=e.onStateChange,b=void 0===y?null:y;if(null===a)throw new Error(br("The `indexName` option is required."));if(null===g)throw new Error(br("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat("4.32.0",")")),v&&"function"!=typeof v)throw new Error(br("The `insightsClient` option should be a function."));if(r.client=g,r.insightsClient=v,r.indexName=a,r.helper=null,r.mainHelper=null,r.mainIndex=ut({indexName:a}),r.onStateChange=b,r.started=!1,r.templatesConfig={helpers:(t={numberLocale:s},n=t.numberLocale,{formatNumber:function(e,t){return Number(t(e)).toLocaleString(n)},highlight:function(e,t){try{return t(dt(Pt(Pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(gt(Pt(Pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(vt(Pt(Pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(bt(Pt(Pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(Rt(n,Pt({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}),compileOptions:{}},r._stalledSearchDelay=d,r._searchStalledTimer=null,r._isSearchStalled=!1,r._createURL=Or,r._initialUiState=o,h&&(r._searchFunction=h),r.sendEventToInsights=re,f){var O="boolean"==typeof f?void 0:f;r.use(ur(O))}return"undefined"!=typeof window&&-1<window.navigator.userAgent.indexOf("Algolia Crawler")&&r.use(fr()),r}return t=w,(r=[{key:"use",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(r),!0).forEach(function(e){yr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({subscribe:re,unsubscribe:re,onStateChange:re},e({instantSearchInstance:r}));return r.middleware.push({creator:e,instance:t}),t});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(br("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(br("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(br("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(br("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var n=this;if(this.started)throw new Error(br("The `start` method has already been called once."));var t=this.mainHelper||K(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var i={search:function(){return new Promise(re)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=n.mainIndex.getHelper(),e=K(i,r.state.index,r.state);return e.once("search",function(e){var t=e.state;r.overrideStateWithoutTriggeringChangeEvent(t),n._mainHelperSearch()}),e.on("change",function(e){var t=e.state;r.setState(t)}),n._searchFunction(e),t}}t.on("error",function(e){var t=e.error;n.emit("error",{error:t})}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(br("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var r="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(t){t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r[t.getIndexId()]})),t.getWidgets().filter(at).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(br("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(br("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&dr(t.prototype,r),n&&dr(t,n),w}();function wr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jr(e){var t=e||{};t.page;return wr(t,["page"])}var Sr="ais.infiniteHits";function Pr(){return"undefined"!=typeof window&&void 0!==window.sessionStorage}var Fr=function(e){return new Rr(e)};function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],s=!0,c=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(){return Er(f.useReducer(function(e){return e+1},0),2)[1]}Fr.version="4.32.0",Fr.createInfiniteHitsSessionStorageCache=ne(function(){return{read:function(e){var t=e.state;if(!Pr())return null;try{var r=JSON.parse(window.sessionStorage.getItem(Sr));return r&&he(r.state,jr(t))?r.hits:null}catch(e){if(e instanceof SyntaxError)try{window.sessionStorage.removeItem(Sr)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits;if(Pr())try{window.sessionStorage.setItem(Sr,JSON.stringify({state:jr(t),hits:r}))}catch(e){}}}}),Fr.highlight=ne(dt),Fr.reverseHighlight=ne(gt),Fr.snippet=ne(vt),Fr.reverseSnippet=ne(bt),Fr.insights=Rt,Fr.getInsightsAnonymousUserToken=function(){return jt()},Object.defineProperty(Fr,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Fr,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var Tr=Object.prototype.hasOwnProperty;function Ir(e){var t=Er(f.useState(function(){return e}),2),r=t[0],n=t[1];return f.useEffect(function(){(function e(t,r){var n,i;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((i=t.length)===r.length)for(;i--&&e(t[i],r[i]););return-1===i}if(!n||"object"==typeof t){for(n in i=0,t){if(Tr.call(t,n)&&++i&&!Tr.call(r,n))return!1;if(!(n in r&&e(t[n],r[n])))return!1}return Object.keys(r).length===i}}return t!=t&&r!=r})(r,e)||n(e)},[e]),r}var Ar=["suppressExperimentalWarning"];var Dr=["children"];function Hr(){var e=f.useContext(p);if(null===e)throw new Error("`useIndexContext` must be used within `IndexContext.Provider`.");return e}var Nr=["children"];function kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kr(Object(r),!0).forEach(function(e){Lr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Lr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qr=We({name:"configure",connector:!0});function Wr(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return Cr(Cr({},e),{},Lr({},t,void 0))},{}))}var Ur=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:re,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return function(i){if(!i||!se(i.searchParameters))throw new Error(Qr("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;n(Cr(Cr({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(Cr(Cr({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){var t=e.state;return a(),Wr(t,i)},getRenderState:function(e,t){var r,n=this.getWidgetRenderState(t);return Cr(Cr({},e),{},{configure:Cr(Cr({},n),{},{widgetParams:Cr(Cr({},n.widgetParams),{},{searchParameters:Qe(new K.SearchParameters(null===(r=e.configure)||void 0===r?void 0:r.widgetParams.searchParameters),new K.SearchParameters(n.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var n,t=e.helper;return r.refine||(r.refine=(n=t,function(e){var t=Wr(n.state,i),r=Qe(t,new K.SearchParameters(e));i.searchParameters=e,n.setState(r).search()})),{refine:r.refine,widgetParams:i}},getWidgetSearchParameters:function(e,t){var r=t.uiState;return Qe(e,new K.SearchParameters(Cr(Cr({},r.configure),i.searchParameters)))},getWidgetUiState:function(e){return Cr(Cr({},e),{},{configure:Cr(Cr({},e.configure),i.searchParameters)})}}}};function Mr(e){var t,r,n;return new K.SearchResults(e,[{query:null!==(t=e.query)&&void 0!==t?t:"",page:null!==(r=e.page)&&void 0!==r?r:0,hitsPerPage:null!==(n=e.hitsPerPage)&&void 0!==n?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}])}var Br=["instantSearchInstance","widgetParams"],qr=["widgetParams"];function $r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Vr(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$r(Object(a),!0).forEach(function(e){var t,r,n;t=i,n=a[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):$r(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}function Jr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=function(){var e=f.useContext(g);if(null===e)throw new Error("Hooks must be used inside the <InstantSearch /> component.\n\nThey are not compatible with the `react-instantsearch-core` and `react-instantsearch-dom` packages, so make sure to use the <InstantSearch /> component from `react-instantsearch-hooks`.");return e}(),a=Hr(),r=Ir(t),s=f.useMemo(function(){return e(function(e,t){if(!t){e.instantSearchInstance,e.widgetParams;var r=d(e,Br);o(r)}})(r)},[r,e]),n=Er(f.useState(function(){if(s.getWidgetRenderState){var e=a.getHelper(),r=a.getResults()||Mr(e.state),t=a.getScopedResults().map(function(e){var t=e.indexId===a.getIndexId()?r:Mr(e.helper.state);return Vr(Vr({},e),{},{results:e.results||t})}),n=s.getWidgetRenderState({helper:e,parent:a,instantSearchInstance:i,results:r,scopedResults:t,state:r._state,renderState:i.renderState,templatesConfig:i.templatesConfig,createURL:a.createURL,searchMetadata:{isSearchStalled:i._isSearchStalled}});n.widgetParams;return d(n,qr)}return{}}),2),c=n[0],o=n[1];return f.useLayoutEffect(function(){return a.addWidgets([s]),function(){a.removeWidgets([s])}},[s,a]),c}function zr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zr(Object(r),!0).forEach(function(e){Gr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xr=We({name:"hits",connector:!0}),Kr=function(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return te(n,Xr()),function(b){var O,R,e=b||{},t=e.escapeHTML,w=void 0===t||t,r=e.transformItems,j=void 0===r?function(e){return e}:r;return{$$type:"ais.hits",init:function(e){n(Zr(Zr({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);t.sendEvent("view",t.hits),n(Zr(Zr({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return Zr(Zr({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,n,i,a,r,s,c,o,u=e.results,f=e.helper,h=e.instantSearchInstance;if(O||(t={instantSearchInstance:h,index:f.getIndex(),widgetType:this.$$type},n=t.instantSearchInstance,i=t.index,a=t.widgetType,O=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Xe({widgetType:a,index:i,methodName:"sendEvent",args:t}).forEach(function(e){return n.sendEventToInsights(e)})}),R||(r={index:f.getIndex(),widgetType:this.$$type},s=r.index,c=r.widgetType,R=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Xe({widgetType:c,index:s,methodName:"bindEvent",args:t});return n.length?"data-insights-event=".concat(Ze(n)):""}),!u)return{hits:[],results:void 0,sendEvent:O,bindEvent:R,widgetParams:b};w&&0<u.hits.length&&(u.hits=(void 0===(o=u.hits).__escaped&&((o=o.map(function(e){var t=ye({},e);return t._highlightResult&&(t._highlightResult=Pe(t._highlightResult)),t._snippetResult&&(t._snippetResult=Pe(t._snippetResult)),t})).__escaped=!0),o));var l,d,p,g,m,v=(l=u.hits,d=u.page,p=u.hitsPerPage,l.map(function(e,t){return Me(Me({},e),{},{__position:p*d+t+1})})),y=(g=v,(m=u.queryID)?g.map(function(e){return $e($e({},e),{},{__queryID:m})}):g);return{hits:j(y),results:u,sendEvent:O,bindEvent:R,widgetParams:b}},dispose:function(e){var t=e.state;return i(),w?t.setQueryParameters(Object.keys(we).reduce(function(e,t){return Zr(Zr({},e),{},Gr({},t,void 0))},{})):t},getWidgetSearchParameters:function(e){return w?e.setQueryParameters(we):e}}}};function Yr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(r),!0).forEach(function(e){tn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sn=We({name:"hierarchical-menu",connector:!0}),cn=["name:asc"],on=function(F){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return te(F,sn()),function(h){var e=h||{},o=e.attributes,t=e.separator,u=void 0===t?" > ":t,r=e.rootPath,f=void 0===r?null:r,n=e.showParentLevel,l=void 0===n||n,i=e.limit,d=void 0===i?10:i,a=e.showMore,p=void 0!==a&&a,s=e.showMoreLimit,g=void 0===s?20:s,c=e.sortBy,m=void 0===c?cn:c,v=e.transformItems,y=void 0===v?function(e){return e}:v;if(!o||!Array.isArray(o)||0===o.length)throw new Error(sn("The `attributes` option expects an array of strings."));if(!0===p&&g<=d)throw new Error(sn("The `showMoreLimit` option must be greater than `limit`."));var b,O,R=nn(o,1)[0],w=function(){};function j(){w()}var S=!1;function P(){return S?g:d}return{$$type:"ais.hierarchicalMenu",init:function(e){var t=e.instantSearchInstance;F(en(en({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t,r,n=e.instantSearchInstance;t=e,w=function(){S=!S,r.render(t)},F(en(en({},(r=this).getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var t=e.state;return x(),t.removeHierarchicalFacet(R).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return en(en({},e),{},{hierarchicalMenu:en(en({},e.hierarchicalMenu),{},tn({},R,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.state,n=e.createURL,i=e.instantSearchInstance,a=e.helper,s=[],c=!1;if(b||(b=ze({instantSearchInstance:i,helper:a,attribute:R,widgetType:this.$$type})),O||(O=function(e){b("click",e),a.toggleFacetRefinement(R,e).search()}),t){var o=t.getFacetValues(R,{sortBy:m,facetOrdering:m===cn}),u=o&&!Array.isArray(o)&&o.data?o.data:[],f=(r.maxValuesPerFacet||0)>P()?u.length<=P():u.length<P();c=p&&(S||!f),s=y(function a(e){return e.slice(0,P()).map(function(e){var t=e.name,r=e.path,n=e.data,i=en(en({},rn(e,["name","path","data"])),{},{label:t,value:r,data:null});return Array.isArray(n)&&(i.data=a(n)),i})}(u))}return{items:s,refine:O,canRefine:0<s.length,createURL:function(e){return n(r.resetPage().toggleFacetRefinement(R,e))},sendEvent:b,widgetParams:h,isShowingMore:S,toggleShowMore:j,canToggleShowMore:c}},getWidgetUiState:function(e,t){var r=t.searchParameters.getHierarchicalFacetBreadcrumb(R);return r.length?en(en({},e),{},{hierarchicalMenu:en(en({},e.hierarchicalMenu),{},tn({},R,r))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.hierarchicalMenu&&r.hierarchicalMenu[R];if(e.isHierarchicalFacet(R))e.getHierarchicalFacetByName(R);var i=e.removeHierarchicalFacet(R).addHierarchicalFacet({name:R,attributes:o,separator:u,rootPath:f,showParentLevel:l}),a=i.maxValuesPerFacet||0,s=Math.max(a,p?g:d),c=i.setQueryParameter("maxValuesPerFacet",s);return n?c.addHierarchicalFacetRefinement(R,n.join(u)):c.setQueryParameters({hierarchicalFacetsRefinements:en(en({},c.hierarchicalFacetsRefinements),{},tn({},R,[]))})}}}};function un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hn=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,"currentPage",void 0),fn(this,"total",void 0),fn(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}var e,r,n;return e=t,(r=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,r=this.padding;if(0===e)return[0];var n=this.nbPagesDisplayed(r,e);if(n===e)return ue({end:e});var i=this.calculatePaddingLeft(t,r,e,n);return ue({start:t-i,end:t+(n-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:r-t<=e?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&un(e.prototype,r),n&&un(e,n),t}();function ln(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(r),!0).forEach(function(e){pn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ln(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gn=We({name:"pagination",connector:!0}),mn=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return te(r,gn()),function(o){var e=o||{},u=e.totalPages,t=e.padding,f=new hn({currentPage:0,total:0,padding:void 0===t?3:t}),h={};return{$$type:"ais.pagination",init:function(e){var t=e.instantSearchInstance;r(dn(dn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(dn(dn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?dn(dn({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.page?r.page-1:0;return e.setQueryParameter("page",n)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.createURL;h.refine||(h.refine=function(e){r.setPage(e),r.search()}),h.createURL||(h.createURL=function(t){return function(e){return n(t.setPage(e))}});var i,a=r.state,s=a.page||0,c=(i=(t||{nbPages:0}).nbPages,void 0!==u?Math.min(u,i):i);return f.currentPage=s,f.total=c,{createURL:h.createURL(a),refine:h.refine,canRefine:1<c,currentRefinement:s,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:c,pages:t?f.pages():[],isFirstPage:f.isFirstPage(),isLastPage:f.isLastPage(),widgetParams:o}},getRenderState:function(e,t){return dn(dn({},e),{},{pagination:this.getWidgetRenderState(t)})}}}};function vn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(r),!0).forEach(function(e){bn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Rn=We({name:"refinement-list",connector:!0}),wn=["isRefined","count:desc","name:asc"],jn=function(u){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return te(u,Rn()),function(g){var e=g||{},m=e.attribute,t=e.operator,h=void 0===t?"or":t,r=e.limit,v=void 0===r?10:r,n=e.showMore,y=void 0!==n&&n,i=e.showMoreLimit,l=void 0===i?20:i,a=e.sortBy,b=void 0===a?wn:a,s=e.escapeFacetValues,c=void 0===s||s,o=e.transformItems,O=void 0===o?function(e){return e}:o;if(!m)throw new Error(Rn("The `attribute` option is required."));if(!/^(and|or)$/.test(h))throw new Error(Rn('The `operator` must one of: `"and"`, `"or"` (got "'.concat(h,'").')));if(!0===y&&l<=v)throw new Error(Rn("`showMoreLimit` should be greater than `limit`."));var R,w,j,S=function(e){var t=e.name;return yn(yn({},On(e,["name"])),{},{label:t,value:t,highlighted:t})},P=[],F=!0,x=!1,E=function(){};function _(){E()}function T(){return x?l:v}var I=function(){return function(){}},A=function(r,a){return function(i){return function(e){var n=i.instantSearchInstance;if(""===e&&P)u(yn(yn({},a.getWidgetRenderState(yn(yn({},i),{},{results:R}))),{},{instantSearchInstance:n}),!1);else{var t={highlightPreTag:c?we.highlightPreTag:je.highlightPreTag,highlightPostTag:c?we.highlightPostTag:je.highlightPostTag};r.searchForFacetValues(m,e,Math.min(T(),100),t).then(function(e){var t=c?e.facetHits.map(function(e){return Oe(Oe({},e),{},{highlighted:Se(e.highlighted)})}):e.facetHits,r=O(t.map(function(e){var t=e.value;return yn(yn({},On(e,["value"])),{},{value:t,label:t})}));u(yn(yn({},a.getWidgetRenderState(yn(yn({},i),{},{results:R}))),{},{items:r,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:n}),!1)})}}}};return{$$type:"ais.refinementList",init:function(e){u(yn(yn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){u(yn(yn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return yn(yn({},e),{},{refinementList:yn(yn({},e.refinementList),{},bn({},m,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r,n=e.results,i=e.state,a=e.createURL,s=e.instantSearchInstance,c=e.helper,o=[],u=[];if(j&&w&&I||(j=ze({instantSearchInstance:s,helper:c,attribute:m,widgetType:this.$$type}),w=function(e){j("click",e),c.toggleFacetRefinement(m,e).search()},I=A(c,this)),n){var f=n.getFacetValues(m,{sortBy:b,facetOrdering:b===wn});u=f&&Array.isArray(f)?f:[],o=O(u.slice(0,T()).map(S));var h=i.maxValuesPerFacet,l=T();F=l<h?u.length<=l:u.length<l,R=n,P=o,e.results&&(t=e,r=this,E=function(){x=!x,r.render(t)})}var d=I&&I(e),p=x&&P.length>v||y&&!F;return{createURL:function(e){return a(i.resetPage().toggleFacetRefinement(m,e))},items:o,refine:w,searchForItems:d,isFromSearch:!1,canRefine:0<o.length,widgetParams:g,isShowingMore:x,canToggleShowMore:p,toggleShowMore:_,sendEvent:j,hasExhaustiveItems:F}},dispose:function(e){var t=e.state;f();var r=t.setQueryParameter("maxValuesPerFacet",void 0);return"and"===h?r.removeFacet(m):r.removeDisjunctiveFacet(m)},getWidgetUiState:function(e,t){var r=t.searchParameters,n="or"===h?r.getDisjunctiveRefinements(m):r.getConjunctiveRefinements(m);return n.length?yn(yn({},e),{},{refinementList:yn(yn({},e.refinementList),{},bn({},m,n))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n="or"===h,i=r.refinementList&&r.refinementList[m],a=e.clearRefinements(m),s=n?a.addDisjunctiveFacet(m):a.addFacet(m),c=s.maxValuesPerFacet||0,o=Math.max(c,y?l:v),u=s.setQueryParameter("maxValuesPerFacet",o);if(i)return i.reduce(function(e,t){return n?e.addDisjunctiveFacetRefinement(m,t):e.addFacetRefinement(m,t)},u);var f=n?"disjunctiveFacetsRefinements":"facetsRefinements";return u.setQueryParameters(bn({},f,yn(yn({},u[f]),{},bn({},m,[]))))}}}};function Sn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(r),!0).forEach(function(e){Fn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xn=We({name:"search-box",connector:!0}),En=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;return te(r,xn()),function(a){var s,c=(a||{}).queryHook;var o=function(){};function u(){o()}return{$$type:"ais.searchBox",init:function(e){var t=e.instantSearchInstance;r(Pn(Pn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Pn(Pn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Pn(Pn({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r=e.helper,n=e.searchMetadata;if(!s){var i=function(e){e!==r.state.query&&r.setQuery(e).search()};s=function(e){c?c(e,i):i(e)}}return o=function(){t.setQuery("").search()},{query:(t=r).state.query||"",refine:s,clear:u,widgetParams:a,isSearchStalled:n.isSearchStalled}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:Pn(Pn({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("query",r.query||"")}}}};function _n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(r),!0).forEach(function(e){In(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var An=We({name:"sort-by",connector:!0}),Dn=function(c){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:re;te(c,An());var o={};return function(i){var e=i||{},a=e.items,t=e.transformItems,s=void 0===t?function(e){return e}:t;if(!Array.isArray(a))throw new Error(An("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(e){var t=e.instantSearchInstance,r=this.getWidgetRenderState(e),n=r.currentRefinement;!function(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return}(a,function(e){return e.value===n});c(Tn(Tn({},r),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;c(Tn(Tn({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){var t=e.state;return r(),o.initialIndex?t.setIndex(o.initialIndex):t},getRenderState:function(e,t){return Tn(Tn({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.parent;return!o.initialIndex&&n&&(o.initialIndex=n.getIndexName()),o.setIndex||(o.setIndex=function(e){r.setIndex(e).search()}),{currentRefinement:r.state.index,options:s(a),refine:o.setIndex,hasNoResults:!t||0===t.nbHits,widgetParams:i}},getWidgetUiState:function(e,t){var r=t.searchParameters.index;return Tn(Tn({},e),{},{sortBy:r!==o.initialIndex?r:void 0})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("index",r.sortBy||o.initialIndex||e.index)}}}};e.Index=function(e){var t,r,n,i,a,s,c=e.children,o=d(e,Nr),u=(t=o,r=Hr(),n=Ir(t),i=f.useMemo(function(){return ut(n)},[n]),a=i.getHelper(),s=_r(),f.useEffect(function(){s()},[a,s]),f.useEffect(function(){return r.addWidgets([i]),function(){r.removeWidgets([i])}},[r,i]),i);return null===u.getHelper()?null:h.createElement(p.Provider,{value:u},c)},e.InstantSearch=function(e){var t,r,n,i,a,s,c=e.children,o=d(e,Dr),u=(r=(t=o).suppressExperimentalWarning,n=void 0!==r&&r,i=Ir(d(t,Ar)),a=f.useMemo(function(){return Fr(i)},[i]),s=_r(),f.useEffect(function(){},[n]),f.useEffect(function(){"function"==typeof i.searchClient.addAlgoliaAgent&&(i.searchClient.addAlgoliaAgent("react (".concat(f.version,")")),i.searchClient.addAlgoliaAgent("react-instantsearch (".concat(l,")")),i.searchClient.addAlgoliaAgent("react-instantsearch-hooks (".concat(l,")")))},[i.searchClient]),f.useEffect(function(){return a.start(),s(),function(){a.dispose(),s()}},[a,s]),a);return u.started?h.createElement(g.Provider,{value:u},h.createElement(p.Provider,{value:u.mainIndex},c)):null},e.useConfigure=function(e){return Jr(Ur,{searchParameters:e})},e.useConnector=Jr,e.useHierarchicalMenu=function(e){return Jr(on,e)},e.useHits=function(e){return Jr(Kr,e)},e.usePagination=function(e){return Jr(mn,e)},e.useRefinementList=function(e){return Jr(jn,e)},e.useSearchBox=function(e){return Jr(En,e)},e.useSortBy=function(e){return Jr(Dn,e)},e.version=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ReactInstantSearchHooks.min.js.map
